## 那些年在网吧被盗的号
这里讲一个局域网网络攻击的方法，可能已经有点过时

### 知识点

#### ARP（地址解析协议）
定义：根据IP地址获取物理地址的一个TCP/IP协议。
实现过程：主机发送信息时将包含目标IP地址的ARP请求广播到局域网络上的所有主机，并接收返回消息，以此确定目标的物理地址；收到返回消息后将该IP地址和物理地址存入本机ARP缓存中并保留一定时间，下次请求时直接查询ARP缓存以节约资源。

#### ARP欺骗
通过欺骗局域网内访问者PC的网关MAC地址，使访问者PC错以为攻击者更改后的MAC地址是网关的MAC，导致网络不通。此种攻击可让攻击者获取局域网上的数据包甚至可篡改数据包，且可让网上特定计算机或所有计算机无法正常连线。地址解析协议是建立在网络中各个主机互相信任的基础上的，局域网络上的主机可以自主发送ARP应答消息，其他主机收到应答报文时不会检测该报文的真实性就会将其记入本机ARP缓存；由此攻击者就可以向某一主机发送伪ARP应答报文，使其发送的信息无法到达预期的主机或到达错误的主机，这就构成了一个ARP欺骗。

#### 场景模拟
网吧通常采用的是星型拓扑，所有主机连接到一台或者多台交换机，再由交换机连接到路由器。这样就有数量可观的主机都处在同一个局域网中，也是使用ARP欺骗攻击的理想场所。当这些主机中的某一台主机发起了ARP攻击，将自己伪装成网关，这时这台主机成了这个局域网内所有主机的“代理”。所有主机的网络请求都会通过这台主机转发，而这台伪装成网关的主机可以通过抓包工具轻松的获取他们请求，这其中就包括了一些账号的登录信息。
